---
title: php 和设计模式 - 设计原则
date: 2021-03-21 14:35:02
categories:
- 设计模式
tags: 
---

设计模式是一套被反复使用、多数人知晓、经过分类编目的、代码设计经验的总结。使用设计模式是为了 `提高代码复用性` 和 `灵活性`，让代码更容易被他人理解、保证代码 `可靠性`。

为了实现代码的 `可复用性` 和 `灵活性`。`设计模式` 提出了一些关键的 `面向对象设计原则`。


#### 单一职责

其核心思想为：一个类，最好只做一件事，应该仅有一个引起它变化的原因。

可以理解为，一个类，应该是一组相关性很高的方法及数据的封装。

一个类承担的职责越多，它被复用的可能性就越小。而且当一个类承担的职责过多时，就相当于把这些职责耦合在了一起，当其中一个职责发生变动，可能会对其他职责造成破坏。

类的职责包括两个方面，数据职责和行为职责，数据职责通过类的属性实现，行为职责通过其方法实现。

单一职责是实现高内聚、低耦合的指导方针。它是最简单但又最难实现的原则，需要开发人员发现类的的不同职责并将其分离。


#### 开闭原则

开闭原则是面向对象中最重要的原则。

一个软件应当对扩展开放，对修改关闭。即软件实体应尽量在不修改原有代码的情况下进行扩展。

一个类一旦开发完成，后续新增的功能就不应该通过修改这个类来完成，而是应该通过继承增加新的类。

为什么要对修改关闭呢？因为一旦修改某个类，就可能破坏了系统原有功能，就需要重新测试。

实现开闭原则的核心思想就是面向接口编程，而不是具体实现。因为抽象相对稳定，让类依赖于固定抽象，所以修改就是封闭的。而通过继承和多态，又可以实现对抽象类的继承，通过实现其方法来改变固有行为，实现新的拓展方法，所以对扩展是开放的。

#### 里氏替换
里氏替换应该是开闭原则的一个扩展，意思是指在所有用到基类的地方，都可以用其子类替换。

这就要求，子类必须覆盖基类的所有方法。
这个原则依赖于面向对象的继承与多态，核心是抽象，抽象依赖于继承。

简单点来理解的话，就是说子类继承父类后，必须满足调用者对父类的所有期望。

其中有一点很关键，里氏替换原则强调子类尽量使用基类中的方法，而不是重写，除非子类有其特殊性，所以这个时候，抽取一个更高级别的抽象类是必要的。

#### 依赖倒置

#### 接口隔离

#### 合成复用

#### 迪米特法则




